{% extends "loans/applications/layout.html" %}
{% load static %}


{% block headerCss %}

{{block.super}}

{% include "loans/applications/apply/css/apply.html" %}


<style>
    /* Basic styles for the spinner */
    .spinner {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Stay in place */
        z-index: 1001;
        /* Sit on top */
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        /* Center it */
        border: 8px solid rgba(255, 255, 255, 0.2);
        /* Light background */
        border-top: 8px solid #3498db;
        /* Blue color */
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        /* Animation */
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    /* Overlay to prevent interactions */
    .overlay {
        display: none;
        /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        /* Semi-transparent background */
        z-index: 1000;
        /* Sit below spinner */
    }

    /* Fade transition */
    body {
        transition: opacity 0.5s ease;
    }

    .fade-out {
        opacity: 0;
    }
</style>

{% endblock headerCss %}

{% block loader %}
{% endblock loader %}


{% block content %}


<div class="overlay" id="overlay"></div>

<section class="sc-caSCKo bcmzeY" id="main-container" tabindex="-1">
    <div>
        <div class="sc-gojNiO eHAReN">
            <div class="sc-kvZOFW elSnyR">
                <div class="sc-hqyNC container keRCOE">
                    <div class="sc-jbKcbu row cWSlbe">
                        <div class="sc-dNLxif col-xs-10 bVdTGY">
                            <h1 class="sc-uJMKN fVpAKT">Ready for your student loan application?</h1>
                        </div>
                        <div class="sc-jqCOkK col-xs-10 gdorVr">
                            <h2 class="sc-bbmXgH cuBMeU">Find out if you're approved in 3 minutes</h2>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sc-hSdWYo gJFFhu">
                <button type="button" class="sc-kEYyzF bTpaUX get-started-btn" tabindex="0" aria-label="Get Started" aria-describedby="button-describer">
                    Get Started
                    <span class="sc-kkGfuU bmbkEI spinner" id="spinner"></span>
                </button>
                <p class="sc-iAyFgw kPJnip" aria-hidden="false" id="button-describer"></p>
            </div>
        </div>
        <div class="sc-daURTG container cSpaQl">
            <div class="sc-bXGyLb col-md-6 col-sm-9 col-xs-12 kTozof">
                <h3>To complete your application, you’ll need:</h3>
                <ul>
                    <li><span>Your national identification number</span></li>
                    <li><span>Your school name (must be one of our partnered universities)</span></li>
                    <li><span>Your estimated annual fees</span></li>
                    <li><span>The amount you’d like to borrow</span></li>
                </ul>
                <h3>Once approved, you’ll see your interest rates.</h3>
                <p>Already started an application?
                    <a class="continue-to-find-application" href="">Find it here</a>.
                </p>
            </div>
        </div>
        <div>
            <div class="sc-ibxdXY container iPzxkQ">
                <div class="sc-RefOD row kzCQXs">
                    <div class="sc-iQKALj col-sm-7 col-xs-12 cKykSe">
                        <div>
                            <div>
                                <div class="sc-eXEjpC cnTDlp"><span class="sc-kIPQKe dSrSHs"></span>
                                    <h4 class="sc-kfGgVZ bMoTGd">What if I'm applying with a cosigner?</h4>
                                </div><span class="sc-esjQYD eKLaHG">
                                    <p>We’ll ask you during the application whether you have a cosigner and give you directions for them to apply. Your cosigner doesn’t have to be with you.</p>
                                    <p>While not required, applying with a cosigner who has good credit may help you qualify for a loan or receive a lower interest rate.</p>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sc-bwCtUz cNhWva" data-popup="help-section"><span class="sc-hrWEMg dmSFqp"></span>
                <div class="sc-eTuwsz iXSARm">
                    <div>
                        <div class="sc-eXEjpC cnTDlp"><span class="sc-kIPQKe dSrSHs"></span>
                            <h4 class="sc-kfGgVZ hEHMUG">What if I'm applying with a cosigner?</h4>
                        </div><span class="sc-esjQYD bMSEgw">
                            <p>We’ll ask you during the application whether you have a cosigner and give you directions for them to apply. Your cosigner doesn’t have to be with you.</p>
                            <p>While not required, applying with a cosigner who has good credit may help you qualify for a loan or receive a lower interest rate.</p>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



{% endblock content %}



{% block location %}
{% endblock location %}


{% block bundleJs %}

<script>
    window.App = {
        csrfToken: "{{ csrf_token }}"
    };
    window.App.urls = {
        base: "{{ base_url }}",
        static: "{{ static_url }}"
    };
    window.App.translations = {
        "en": "{{ en_translations }}"
    };
    window.App.locale = "{{ locale }}";


    $(document).ready(function () {
        $(".get-started-btn").click(function () {
            const currentUrl = window.location.href;
            const urlParams = new URLSearchParams(window.location.search);

            const paramsString = urlParams.toString();
            const applyUrl = "{% url 'loans:applications:application_entry_form' %}";
            const newUrl = paramsString ? `${applyUrl}?${paramsString}` : applyUrl;

            // Show the spinner
            $("#spinner").show();
            $("#overlay").show();

            // Redirect after a delay (e.g., 1 second)
            setTimeout(function () {
                window.location.href = newUrl;
            }, 2000); // Adjust delay as needed
        });
    });
</script>




{% endblock bundleJs %}